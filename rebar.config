{cover_enabled, true}.
{erl_opts, [debug_info,
            warnings_as_errors]}.

{sub_dirs, ["rel", "apps/pushy"]}.

{deps,
 [
  {pushy_common, ".*",
   {git, "https://github.com/chef/pushy_common", {branch, "master"}}},
  {lager, ".*",
   {git, "https://github.com/basho/lager", {branch, "master"}}},
  {meck, ".*",
   {git, "https://github.com/eproxus/meck", {branch, "master"}}},
  {erlzmq, ".*",
   {git, "https://github.com/chef/erlzmq2", {branch, "devel"}}},
  {gproc, ".*",
   {git, "https://github.com/esl/gproc", {tag, "v0.2.11"}}},
%  {jiffy, ".*",
%         {git, "https://github.com/joedevivo/jiffy", {branch, "master"}}},
  {jiffy, ".*",
   {git, "https://github.com/davisp/jiffy", {tag, "0.4.3"}}},
  {sqerl, ".*",
   {git, "https://github.com/chef/sqerl", {branch, "master"}}},
  {chef_authn, ".*",
   {git, "https://github.com/chef/chef_authn", {branch, "master"}}},
  {ej, ".*",
   {git, "https://github.com/seth/ej", {branch, "master"}}},
  {webmachine,".*",
    {git,"https://github.com/basho/webmachine", {tag, "1.10.8"}}},
%  {webmachine, ".*",
%   {git, "https://github.com/chef/webmachine", {tag, "1.10.5.3"}}},
  {envy, ".*",
   {git, "https://github.com/manderson26/envy", {branch, "master"}}},
%% Not actually using this yet AFAIK
%%  {mixer, ".*",
%%   {git, "https://github.com/chef/mixer", {branch, "master"}}},
%% Monitoring and logging
  {folsom, ".*",
   {git, "https://github.com/chef/folsom", {branch, "master"}}},
  {folsom_graphite, ".*",
   {git, "https://github.com/chef/folsom_graphite", {branch, "master"}}},
  {rebar_lock_deps_plugin, ".*",
   {git, "https://github.com/seth/rebar_lock_deps_plugin", {branch, "master"}}},
%% Debuggging
  {eper, ".*",
   {git, "https://github.com/massemanet/eper", {branch, "master"}}}

 ]}.

{plugins, [rebar_lock_deps_plugin]}.

{port_env, [
            %% erlzmq can build it's own zeromq or use the omnibus one; this has us
            {"ZEROMQ_PREFIX", "/opt/opscode-push-jobs-server/embedded"}
           ]}.
